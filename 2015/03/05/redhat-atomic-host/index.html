<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="docker,Linux," />





  <link rel="alternate" href="/atom.xml" title="Feisky's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="IntroductionRed Hat has announced first public beta of Red Hat Enterprise Linux 7 Atomic Host. The beta is available from Red Hat and on Amazon Web Services and Google Compute Platform.
What can you e">
<meta property="og:type" content="article">
<meta property="og:title" content="Redhat Atomic Host">
<meta property="og:url" content="http://feisky.xyz/2015/03/05/redhat-atomic-host/index.html">
<meta property="og:site_name" content="Feisky's Blog">
<meta property="og:description" content="IntroductionRed Hat has announced first public beta of Red Hat Enterprise Linux 7 Atomic Host. The beta is available from Red Hat and on Amazon Web Services and Google Compute Platform.
What can you e">
<meta property="og:image" content="http://feisky.xyz/images/cockpit.png">
<meta property="og:updated_time" content="2017-02-10T00:39:25.512Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Redhat Atomic Host">
<meta name="twitter:description" content="IntroductionRed Hat has announced first public beta of Red Hat Enterprise Linux 7 Atomic Host. The beta is available from Red Hat and on Amazon Web Services and Google Compute Platform.
What can you e">
<meta name="twitter:image" content="http://feisky.xyz/images/cockpit.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://feisky.xyz/2015/03/05/redhat-atomic-host/"/>


  <title> Redhat Atomic Host | Feisky's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  


<!-- hexo-inject:begin --><!-- hexo-inject:end --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-69699206-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Feisky's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Notes about anything.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sre">
          <a href="/SRE" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            SRE
          </a>
        </li>
      
        
        <li class="menu-item menu-item-docker">
          <a href="/docker" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Docker
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ml">
          <a href="/machine-learning" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            机器学习
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sdn">
          <a href="/sdn" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            SDN网络
          </a>
        </li>
      
        
        <li class="menu-item menu-item-pages">
          <a href="/pages" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            读书笔记
          </a>
        </li>
      
        
        <li class="menu-item menu-item-k8s">
          <a href="/k8s" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Kubernetes
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Redhat Atomic Host
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-03-05T16:00:00+00:00" content="2015-03-06">
              2015-03-06
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/03/05/redhat-atomic-host/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/03/05/redhat-atomic-host/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>Red Hat has announced first public beta of <a href="http://www.projectatomic.io/" target="_blank" rel="external">Red Hat Enterprise Linux 7 Atomic Host</a>. The beta is available from Red Hat and on Amazon Web Services and Google Compute Platform.</p>
<p>What can you expect from the Red Hat Enterprise Linux 7 Atomic Host Beta?</p>
<h4 id="Specifically-Designed-to-Run-Containers"><a href="#Specifically-Designed-to-Run-Containers" class="headerlink" title="Specifically Designed to Run Containers"></a>Specifically Designed to Run Containers</h4><p>Red Hat Enterprise Linux 7 Atomic Host Beta provides a streamlined host platform that is optimized to run application containers. The software components included in Red Hat Enterprise Linux 7 Atomic Host Beta, as well as the default system tunings, have been designed to enhance the performance, scalability and security of containers, giving you the optimal platform on which to deploy and run application containers.</p>
<h4 id="The-Confidence-of-Red-Hat-Enterprise-Linux"><a href="#The-Confidence-of-Red-Hat-Enterprise-Linux" class="headerlink" title="The Confidence of Red Hat Enterprise Linux"></a>The Confidence of Red Hat Enterprise Linux</h4><p>Red Hat Enterprise Linux 7 Atomic Host Beta is built from Red Hat Enterprise Linux 7, enabling Red Hat Enterprise Linux 7 Atomic Host Beta to deliver open source innovation built on the stability and maturity of Red Hat Enterprise Linux. It also means that Red Hat Enterprise Linux 7 Atomic Host Beta inherits the hardware certifications of Red Hat Enterprise Linux 7, giving you a vast choice of certified hardware partners.</p>
<h4 id="Atomic-Updating-and-Rollback"><a href="#Atomic-Updating-and-Rollback" class="headerlink" title="Atomic Updating and Rollback"></a>Atomic Updating and Rollback</h4><p>Red Hat Enterprise Linux 7 Atomic Host Beta features a new update mechanism that operates in an image-like fashion. Based on rpm-ostree, updates are composed into “atomic” trees, which can be downloaded and deployed in a single step. The previous version of the operating system is retained, enabling you to easily rollback to an earlier state. This simplified upgrade and rollback capability reduces the time you spend “keeping the lights on.”</p>
<h4 id="Container-Orchestration"><a href="#Container-Orchestration" class="headerlink" title="Container Orchestration"></a>Container Orchestration</h4><p>Through our <a href="http://www.redhat.com/en/about/blog/red-hat-and-google-collaborate-kubernetes-manage-docker-containers-scale" target="_blank" rel="external">collaboration</a><a href="http://www.redhat.com/en/about/blog/red-hat-and-google-collaborate-kubernetes-manage-docker-containers-scale" target="_blank" rel="external"> </a><a href="http://www.redhat.com/en/about/blog/red-hat-and-google-collaborate-kubernetes-manage-docker-containers-scale" target="_blank" rel="external">with</a><a href="http://www.redhat.com/en/about/blog/red-hat-and-google-collaborate-kubernetes-manage-docker-containers-scale" target="_blank" rel="external"> </a><a href="http://www.redhat.com/en/about/blog/red-hat-and-google-collaborate-kubernetes-manage-docker-containers-scale" target="_blank" rel="external">Google</a>, Red Hat Enterprise Linux 7 Atomic Host Beta includes <a href="https://github.com/GoogleCloudPlatform/kubernetes" target="_blank" rel="external"><span style="text-decoration: underline;">Kubernetes</span></a>, a framework for managing clusters of containers. Kubernetes helps with horizontal scaling of multi-container deployments across a container host, and interconnecting multiple layers of the application stacks. This enables you to orchestrate services running in multiple containers into unified, large-scale business applications.</p>
<h4 id="Secure-Host-by-Default"><a href="#Secure-Host-by-Default" class="headerlink" title="Secure Host by Default"></a>Secure Host by Default</h4><p>Security is paramount when it comes to running applications. Containers alone do not contain, but you can more effectively isolate vulnerable containers with a secure host like Red Hat Enterprise Linux 7 Atomic Host Beta that implements a secure environment by default. First, applications are only run within containers, not directly on the host, creating a clear security boundary. Each container is then confined using a combination of SELinux in enforcing mode, control groups, and kernel namespaces. These technologies prevent a compromised container from affecting other containers or the host and are the same proven technologies that have been delivering military-grade security to Red Hat customers for more than 10 years.</p>
<h4 id="Red-Hat-Enterprise-Linux-Container-Images-and-Building-Containers"><a href="#Red-Hat-Enterprise-Linux-Container-Images-and-Building-Containers" class="headerlink" title="Red Hat Enterprise Linux Container Images and Building Containers"></a>Red Hat Enterprise Linux Container Images and Building Containers</h4><p>Red Hat Enterprise Linux 7 Atomic Host Beta provides all of the required tools to build and run container images based on Red Hat Enterprise Linux, including Red Hat Enterprise Linux 6 and 7 container images as well as the docker services. This means that applications that run on Red Hat Enterprise Linux 6 and Red Hat Enterprise Linux 7 can be deployed in a container on Red Hat Enterprise Linux 7 Atomic Host Beta, opening access to a vast ecosystem of certified applications. Additionally, Red Hat Enterprise Linux 7 Atomic Host Beta<span style="font-weight: normal"> users will have access to the full breadth of their Red Hat subscriptions inside these containers, including the </span><span style="font-weight: normal">the popular programming language stacks and development tools delivered through Red Hat Software Collections.</span><span style="font-weight: normal">.</span></p>
<h4 id="Deploy-Across-the-Open-Hybrid-Cloud"><a href="#Deploy-Across-the-Open-Hybrid-Cloud" class="headerlink" title="Deploy Across the Open Hybrid Cloud"></a>Deploy Across the Open Hybrid Cloud</h4><p>Red Hat Enterprise Linux 7 Atomic Host Beta extends container portability across the open hybrid cloud by enabling deployment on physical hardware; certified hypervisors, including Red Hat Enterprise Virtualization and VMware vSphere; private clouds such as Red Hat Enterprise Linux OpenStack Platform; and Amazon Web Services and Google Compute Platform public clouds. This ability to “deploy anywhere, deploy everywhere” enables you to choose the best platform for your container infrastructure.</p>
<h3 id="Demo-of-Atomic"><a href="#Demo-of-Atomic" class="headerlink" title="Demo of Atomic"></a>Demo of Atomic</h3><p>First, Download an image of Atomic from <a href="http://www.projectatomic.io/download/" target="_blank" rel="external">Atomic Download</a>:</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><div class="line">curl http:<span class="comment">//buildlogs.centos.org/rolling/7/isos/x86_64/CentOS-7-x86_64-AtomicHost-20141129_02.qcow2.xz</span></div><div class="line">xz -d CentOS-<span class="number">7</span>-x86_64-AtomicHost-<span class="number">20141129</span>_02<span class="selector-class">.qcow2</span><span class="selector-class">.xz</span></div></pre></td></tr></table></figure>
<p>And then create an virtual machine with Atomic by virt-manager.  Create an metadata iso before starting it:</p>
<pre>
$ cat meta-data
instance-id: id-local01
local-hostname: samplehost.example.org

$ cat user-data
#cloud-config
password: centos
ssh_pwauth: True
chpasswd: { expire: False }
#ssh_authorized_keys:
#  - ssh-rsa ... foo@bar.baz (insert ~/.ssh/id_rsa.pub here)

$ genisoimage -output init.iso -volid cidata -joliet -rock user-data meta-data
</pre>

<p>Attach init.iso to Atomic virtual machine via virt-manager and start it. Note, if you enconter “hda-duplex not supported in this QEMU binary” problem, change the sound device model from default to ac97 and try again util you can login it by centos/centos.</p>
<h3 id="Manager-docker-containers-in-Atomic"><a href="#Manager-docker-containers-in-Atomic" class="headerlink" title="Manager docker containers in Atomic"></a>Manager docker containers in Atomic</h3><p>First enable kubernetes:</p>
<pre>
# For master
$ sudo systemctl enable etcd kube-apiserver kube-controller-manager kube-scheduler
$ sudo systemctl start etcd kube-apiserver kube-controller-manager kube-scheduler
# For minion
$ sudo systemctl enable flanneld kubelet kube-proxy
$ sudo systemctl start flanneld kubelet kube-proxy
</pre>

<p>Check kubenetes is ok:</p>
<pre>
$ kubectl get minions
NAME
127.0.0.1
</pre>

<p>Now create pods/replicas/services:</p>
<pre>
$ cat Dockerfile
FROM centos:latest
CMD python -m SimpleHTTPServer 80
EXPOSE 80

$ sudo docker build -t apache .

$ cat apache.json
{
  "id": "apache",
  "kind": "Pod",
  "apiVersion": "v1beta1",
  "desiredState": {
    "manifest": {
      "version": "v1beta1",
      "id": "apache",
      "containers": [{
        "name": "apache",
        "image": "apache",
        "ports": [{
          "containerPort": 80,
          "hostPort": 80
        }]
      }]
    }
  },
  "labels": {
    "name": "apache"
  }
}
$ cat replica.json
{
  "id": "apacheController",
  "kind": "ReplicationController",
  "apiVersion": "v1beta1",
  "labels": {"name": "apache"},
  "desiredState": {
    "replicas": 3,
    "replicaSelector": {"name": "apache"},
    "podTemplate": {
      "desiredState": {
         "manifest": {
           "version": "v1beta1",
           "id": "apache",
           "containers": [{
             "name": "apache",
             "image": "apache",
             "ports": [{
               "containerPort": 80,
             }]
           }]
         }
       },
       "labels": {"name": "apache"},
      },
  }
}

$ cat service.json
{
  "id": "apache",
  "kind": "Service",
  "apiVersion": "v1beta1",
  "labels": {
    "name": "apache"
  },
  "selector": {
    "name": "apache",
  },
  "protocol": "TCP",
  "containerPort": 80,
  "port": 8987
}

$ kubectl create -f apache.json
$ kubectl create -f replica.json
$ kubectl create -f service.json

$ kubectl get pods
NAME                                   IMAGE(S)            HOST                LABELS              STATUS
apache                                 apache              127.0.0.1/          name=apache         Running
a0575c0e-c3d4-11e4-9a23-5254000bef8a   apache              127.0.0.1/          name=apache         Running
a0581080-c3d4-11e4-9a23-5254000bef8a   apache              127.0.0.1/          name=apache         Running
$ kubectl get service
NAME                LABELS              SELECTOR                                  IP                  PORT
kubernetes-ro                           component=apiserver,provider=kubernetes   10.254.228.92       80
apache                                  name=apache                               10.254.91.251       8987
kubernetes                              component=apiserver,provider=kubernetes   10.254.42.232       443
$ kubectl get replicationController
NAME                IMAGE(S)            SELECTOR            REPLICAS
apacheController    apache              name=apache         3

</pre>

<h3 id="Inter-Container-Communications"><a href="#Inter-Container-Communications" class="headerlink" title="Inter-Container Communications"></a>Inter-Container Communications</h3><p>Atomic uses <a href="https://github.com/openshift/geard" target="_blank" rel="external">Geard</a> to enable containers to connect to each other:</p>
<pre>
/usr/sbin/sysctl -w net.ipv4.ip_forward=1
/usr/sbin/sysctl -w net.ipv4.conf.all.route_localnet=1
iptables -t nat -A PREROUTING -d ${local_ip}/32 -p tcp -m tcp \
    --dport ${local_port} -j DNAT --to-destination ${remote_ip}:${remote_port}
iptables -t nat -A OUTPUT -d ${local_ip}/32 -p tcp -m tcp \
    --dport ${local_port} -j DNAT --to-destination ${remote_ip}:${remote_port}
iptables -t nat -A POSTROUTING -o eth0 -j SNAT --to-source ${container_ip}

gear link -n "127.0.0.1:3306:10.16.138.101:49153" server/application_container_1
</pre>

<p>Two advantages of this approach are:</p>
<ul>
<li>The application code or configuration to connect to the database<br>  doesn’t have to change for all instances of the application container.</li>
<li>The database container could be moved to any host and the application<br>  would just have to flush and rerun gear link to point to the new location.</li>
</ul>
<h3 id="Atomic-Upgrades"><a href="#Atomic-Upgrades" class="headerlink" title="Atomic Upgrades"></a>Atomic Upgrades</h3><p>From a running host, start an upgrade with:</p>
<pre>
# rpm-ostree upgrade
# systemctl reboot
</pre>

<p>On the boot screen you’ll see your new version. Hold down the<br>SHIFT key there to rollback to your previous tree.</p>
<h3 id="Try-the-New-UI-for-Your-Server"><a href="#Try-the-New-UI-for-Your-Server" class="headerlink" title="Try the New UI for Your Server"></a>Try the New UI for Your Server</h3><p>Administer the services on your system with Cockpit (Preview - not for production use)</p>
<figure class="highlight vala"><table><tr><td class="code"><pre><div class="line"><span class="meta"># sudo systemctl enable cockpit.socket</span></div><div class="line"><span class="meta"># sudo systemctl start cockpit.socket</span></div><div class="line"><span class="meta"># visit http://&lt;ipaddress&gt;:9090 in a browser</span></div></pre></td></tr></table></figure>
<p><img src="/images/cockpit.png" alt=""></p>
<p>Cockpit is perfect for new sysadmins, allowing them to easily perform simple tasks such as storage<br>administration, inspecting journals and starting and stopping services.</p>
<p>The snapshot of Cockpit included in Atomic is a preview - do<br>not use in production environments.  Cockpit is under rapid<br>development.</p>
<p><a href="http://cockpit-project.org/" target="_blank" rel="external">Visit cockpit-project.org</a></p>
<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul>
<li><a href="http://www.redhat.com/en/about/blog/small-footprint-big-impact-red-hat-enterprise-linux-7-atomic-host-beta-now-available" target="_blank" rel="external">http://www.redhat.com/en/about/blog/small-footprint-big-impact-red-hat-enterprise-linux-7-atomic-host-beta-now-available</a></li>
<li><a href="http://www.projectatomic.io/download/" target="_blank" rel="external">http://www.projectatomic.io/download/</a></li>
<li><a href="https://www.technovelty.org//linux/running-cloud-images-locally.html" target="_blank" rel="external">https://www.technovelty.org//linux/running-cloud-images-locally.html</a></li>
<li><a href="http://cloudinit.readthedocs.org/en/latest/topics/datasources.html#no-cloud" target="_blank" rel="external">http://cloudinit.readthedocs.org/en/latest/topics/datasources.html#no-cloud</a></li>
<li><a href="http://www.projectatomic.io/docs/inter-container-networking/" target="_blank" rel="external">http://www.projectatomic.io/docs/inter-container-networking/</a></li>
<li><a href="http://www.cnblogs.com/feisky/p/4108477.html" target="_blank" rel="external">http://www.cnblogs.com/feisky/p/4108477.html</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/docker/" rel="tag">#docker</a>
          
            <a href="/tags/Linux/" rel="tag">#Linux</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/03/04/python-not-defined-problem/" rel="next" title="Python __file__ not defined problem">
                <i class="fa fa-chevron-left"></i> Python __file__ not defined problem
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/03/12/usging-cadvisor-to-monitor-docker/" rel="prev" title="Using cAdvisor to monitor docker">
                Using cAdvisor to monitor docker <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/qrcode.jpg"
               alt="Feisky" />
          <p class="site-author-name" itemprop="name">Feisky</p>
          <p class="site-description motion-element" itemprop="description">Notes about anything.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">95</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/feiskyer" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/feisky" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/371069890" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cnblogs.com/feisky/" target="_blank" title="博客园">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  博客园
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Specifically-Designed-to-Run-Containers"><span class="nav-number">1.1.</span> <span class="nav-text">Specifically Designed to Run Containers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#The-Confidence-of-Red-Hat-Enterprise-Linux"><span class="nav-number">1.2.</span> <span class="nav-text">The Confidence of Red Hat Enterprise Linux</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Atomic-Updating-and-Rollback"><span class="nav-number">1.3.</span> <span class="nav-text">Atomic Updating and Rollback</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Container-Orchestration"><span class="nav-number">1.4.</span> <span class="nav-text">Container Orchestration</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Secure-Host-by-Default"><span class="nav-number">1.5.</span> <span class="nav-text">Secure Host by Default</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Red-Hat-Enterprise-Linux-Container-Images-and-Building-Containers"><span class="nav-number">1.6.</span> <span class="nav-text">Red Hat Enterprise Linux Container Images and Building Containers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Deploy-Across-the-Open-Hybrid-Cloud"><span class="nav-number">1.7.</span> <span class="nav-text">Deploy Across the Open Hybrid Cloud</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Demo-of-Atomic"><span class="nav-number">2.</span> <span class="nav-text">Demo of Atomic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Manager-docker-containers-in-Atomic"><span class="nav-number">3.</span> <span class="nav-text">Manager docker containers in Atomic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inter-Container-Communications"><span class="nav-number">4.</span> <span class="nav-text">Inter-Container Communications</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Atomic-Upgrades"><span class="nav-number">5.</span> <span class="nav-text">Atomic Upgrades</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Try-the-New-UI-for-Your-Server"><span class="nav-number">6.</span> <span class="nav-text">Try the New UI for Your Server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#References"><span class="nav-number">7.</span> <span class="nav-text">References</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Feisky</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'feiskyblog';
      var disqus_identifier = '2015/03/05/redhat-atomic-host/';
      var disqus_title = "Redhat Atomic Host";
      var disqus_url = 'http://feisky.xyz/2015/03/05/redhat-atomic-host/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      
    </script>
  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = false;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = decodeURIComponent(data.url);
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title >= 0 || index_content >= 0 ){
                                isMatch = true;
								if (i == 0) {
                                    first_occur = index_content;
                                }
                            } 
							
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  


</body>
</html>
